<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="Dashboard">
    <meta name="keyword" content="Dashboard, Bootstrap, Admin, Template, Theme, Responsive, Fluid, Retina">
    <title>管理员添加成果信息</title>

    <!-- Favicons -->
    <link href="/templates/Dashio/img/favicon.png" rel="icon">
    <link href="/templates/Dashio/img/apple-touch-icon.png" rel="apple-touch-icon">

    <!-- Bootstrap core CSS -->
    <link href="/templates/Dashio/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!--external css-->
    <link href="/templates/Dashio/lib/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link rel="stylesheet" type="text/css" href="/templates/Dashio/lib/bootstrap-datepicker/css/datepicker.css" />
    <link rel="stylesheet" type="text/css" href="/templates/Dashio/lib/bootstrap-daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" type="text/css" href="/templates/Dashio/lib/bootstrap-timepicker/compiled/timepicker.css" />
    <link rel="stylesheet" type="text/css" href="/templates/Dashio/lib/bootstrap-fileupload/bootstrap-fileupload.css" />
    <!-- Custom styles for this template -->
    <link href="/templates/Dashio/css/style.css" rel="stylesheet">
    <link href="/templates/Dashio/css/style-responsive.css" rel="stylesheet">


    <!-- =======================================================
      Template Name: Dashio
      Template URL: https://templatemag.com/dashio-bootstrap-admin-template/
      Author: TemplateMag.com
      License: https://templatemag.com/license/
    ======================================================= -->
</head>

<body>
<section id="container">
    <!-- **********************************************************************************************************************************************************
        TOP BAR CONTENT & NOTIFICATIONS
        *********************************************************************************************************************************************************** -->
    <!--header start-->
    {% include 'Dashio/common_header.html' %}
    <!--header end-->
    <!-- **********************************************************************************************************************************************************
        MAIN SIDEBAR MENU
        *********************************************************************************************************************************************************** -->
    <!--sidebar start-->
    <aside>
       {% include 'Dashio/nav.html' %}
    </aside>
    <!--sidebar end-->
    <!-- **********************************************************************************************************************************************************
        MAIN CONTENT
        *********************************************************************************************************************************************************** -->
    <!--main content start-->
    <section id="main-content">
        <section class="wrapper">
            <h4><i class="fa fa-angle-right"></i> 发布一条公告信息</h4>
            <!-- BASIC FORM ELELEMNTS -->
            <div class="row mt">
                <div class="col-lg-12">
                    <div class="form-panel">
                        <h4 class="mb"><i class="fa fa-angle-right"></i> 请填写公告信息</h4>
                        <form class="form-horizontal style-form" method="post" action="">
                            <!--                        <form class="contact-form php-mail-form" role="form">-->
                            <!--                            <form method="post" action="">-->
                            <div class="form-group">
                                <label class="col-sm-2 col-sm-2 control-label">公告标题</label>
                                <div class="col-sm-10">
                                    <!--                                    <input type="text" class="form-control" name="d_id" id="d_id" placeholder="院系ID(4位数字串，eg.0000)" data-rule="minlength:4" data-msg="请输入正确4位院系ID" minlength="4" required="required">-->
                                    <input type="text" class="form-control" name="ann_title" id="name" placeholder="公告标题" required="required" autofocus>
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="col-sm-2 col-sm-2 control-label">公告内容</label>
                                <div class="col-sm-10">
                                    <!--                                    <input type="text" class="form-control" name="d_name" id="d_name" placeholder="院系名称" data-rule="required" data-msg="请输入正确院系名称" required="required">-->
                                    <input type="text" class="form-control" name="ann_content" id="year" placeholder="公告内容" required="required">
                                </div>
                            </div>
                            <div class="form-send">
                                <button type="submit" class="btn btn-theme">发布</button>
                            </div>
                            <!--                        </form>-->
                        </form>

                        <!--                        </form>-->
                    </div>
                </div>
                <!-- col-lg-12-->
            </div>
            <h4><i class="fa fa-angle-right"></i>已发布的公告</h4>
            <div class="row mb">
                <!-- page start-->
                <div class="content-panel">
                    <div class="adv-table">
                        <table cellpadding="0" cellspacing="0" border="0" class="display table table-bordered" id="hidden-table-info">
                            <thead>
                            <tr>
                                <th>公告ID</th>
                                <th width="25%">公告标题</th>
                                <th width="55%">公告内容</th>
                                <th class="hidden-phone">操作</th>
                            </tr>
                            </thead>
                            <tbody>
                            <form method="post">
                                {% for ann in all_ann_dict.all_ann %}
                                <!--                <tr class="gradeX">-->
                                <tr>
                                    <td>{{ann.infoId}}</td>
                                    <td>{{ann.title}}</td>
                                    <td class="center">{{ann.information}}</td>
                                    <td class="center hidden-phone">
                                        <a href="javascript:if(confirm('确定要删除该公告吗?'))location='/del_announce/{{ann.infoId}}'" class="btn btn-theme04 btn-xs"><i class="fa fa-trash-o "></i> 删除</a>
                                </tr>
                            </form>
                            {% endfor %}

                            </tbody>
                        </table>
                    </div>
                </div>
                <!-- page end-->
            </div>
            <!-- /row -->
        </section>
    </section>
</section>
<!-- js placed at the end of the document so the pages load faster -->
<script src="/templates/Dashio/lib/jquery/jquery.min.js"></script>
<script type="text/javascript" language="javascript" src="/templates/Dashio/lib/advanced-datatable/js/jquery.js"></script>
<script src="/templates/Dashio/lib/bootstrap/js/bootstrap.min.js"></script>
<script class="include" type="text/javascript" src="/templates/Dashio/lib/jquery.dcjqaccordion.2.7.js"></script>
<script src="/templates/Dashio/lib/jquery.scrollTo.min.js"></script>
<script src="/templates/Dashio/lib/jquery.nicescroll.js" type="text/javascript"></script>
<script type="text/javascript" language="javascript" src="/templates/Dashio/lib/advanced-datatable/js/jquery.dataTables.js"></script>
<script type="text/javascript" src="/templates/Dashio/lib/advanced-datatable/js/DT_bootstrap.js"></script>
<!--common script for all pages-->
<script src="/templates/Dashio/lib/common-scripts.js"></script>
<script type="text/javascript">
    /* Formating function for row details */
    function fnFormatDetails(oTable, nTr) {
        var aData = oTable.fnGetData(nTr);
        var sOut = '<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;">';
        sOut += '<tr><td>公告ID：</td><td>' + aData[1] +'</td></tr>';
        sOut += '<tr><td>公告标题：</td><td>' + aData[2] +'</td></tr>';
        sOut += '<tr><td>公告内容：</td><td>'+aData[3]+'</td></tr>';
        // sOut += '<tr><td>Extra info:</td><td>And any further details here (images etc)</td></tr>';
        sOut += '</table>';

        return sOut;
    }

    $(document).ready(function() {
        /*
         * Insert a 'details' column to the table
         */
        var nCloneTh = document.createElement('th');
        var nCloneTd = document.createElement('td');
        nCloneTd.innerHTML = '<img src="/templates/Dashio/lib/advanced-datatable/images/details_open.png">';
        nCloneTd.className = "center";

        $('#hidden-table-info thead tr').each(function() {
            this.insertBefore(nCloneTh, this.childNodes[0]);
        });

        $('#hidden-table-info tbody tr').each(function() {
            this.insertBefore(nCloneTd.cloneNode(true), this.childNodes[0]);
        });

        /*
         * Initialse DataTables, with no sorting on the 'details' column
         */
        var oTable = $('#hidden-table-info').dataTable({
            "aoColumnDefs": [{
                "bSortable": false,
                "aTargets": [0]
            }],
            "aaSorting": [
                [1, 'asc']
            ]
        });

        /* Add event listener for opening and closing details
         * Note that the indicator for showing which row is open is not controlled by DataTables,
         * rather it is done here
         */
        $('#hidden-table-info tbody td img').live('click', function() {
            var nTr = $(this).parents('tr')[0];
            if (oTable.fnIsOpen(nTr)) {
                /* This row is already open - close it */
                this.src = "/templates/Dashio/lib/advanced-datatable/media/images/details_open.png";
                oTable.fnClose(nTr);
            } else {
                /* Open this row */
                this.src = "/templates/Dashio/lib/advanced-datatable/images/details_close.png";
                oTable.fnOpen(nTr, fnFormatDetails(oTable, nTr), 'details');
            }
        });
    });
</script>

<script type="text/javascript" language="javascript">
    window.οnlοad=function()
    {
        var choose=document.getElementById("choose");
        choose.οnclick=function()
        {
            if(confirm("确定要删除公告吗?"))
            {
                return true;
            }else{
                return false;
            }
        }
    }
</script>
</body>

</html>
